{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet userDate = null;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userDate = selectedDates[0];\n    dealWithTimer();\n  },\n};\nflatpickr('#datetime-picker', options);\n\nconst refs = {\n  dateInputEl: document.getElementById('datetime-picker'),\n  startBtn: document.querySelector('.js-flatpickr button'),\n  timerEl: document.querySelector('.timer'),\n};\n\nrefs.startBtn.addEventListener('click', handleStartBtnClick);\n\nfunction isFutureDate(date) {\n  return date instanceof Date && date.getTime() > Date.now();\n}\n\nfunction enableTimer() {\n  refs.startBtn.classList.add('active');\n}\n\nfunction disableTimer() {\n  refs.startBtn.classList.remove('active');\n}\n\nfunction showMessage() {\n  iziToast.error({\n    title: 'Error',\n    message: 'Please choose a date in the future',\n    position: 'topRight',\n  });\n}\n\nfunction dealWithTimer() {\n  if (isFutureDate(userDate)) {\n    enableTimer();\n  } else {\n    disableTimer();\n    showMessage();\n  }\n}\n\nfunction blockCalendar() {\n  refs.dateInputEl.disabled = true;\n}\n\nfunction enableCalendar() {\n  refs.dateInputEl.disabled = false;\n}\n\nfunction handleStartBtnClick(event) {\n  blockCalendar();\n}\n\nconsole.log(refs.timerEl.children);\nconst TIMER = {\n  days: null,\n  hours: null,\n  minutes: null,\n  seconds: null,\n};\n\nconst childs = refs.timerEl.children;\nfor (const child of childs) {\n  console.log(child.children);\n  const [value, label] = child.children;\n  console.log(value, label);\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n"],"names":["userDate","options","selectedDates","dealWithTimer","flatpickr","refs","handleStartBtnClick","isFutureDate","date","enableTimer","disableTimer","showMessage","iziToast","blockCalendar","event","childs","child","value","label"],"mappings":"+IAKA,IAAIA,EAAW,KAEf,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBF,EAAWE,EAAc,CAAC,EAC1BC,GACD,CACH,EACAC,EAAU,mBAAoBH,CAAO,EAErC,MAAMI,EAAO,CACX,YAAa,SAAS,eAAe,iBAAiB,EACtD,SAAU,SAAS,cAAc,sBAAsB,EACvD,QAAS,SAAS,cAAc,QAAQ,CAC1C,EAEAA,EAAK,SAAS,iBAAiB,QAASC,CAAmB,EAE3D,SAASC,EAAaC,EAAM,CAC1B,OAAOA,aAAgB,MAAQA,EAAK,QAAO,EAAK,KAAK,KACvD,CAEA,SAASC,GAAc,CACrBJ,EAAK,SAAS,UAAU,IAAI,QAAQ,CACtC,CAEA,SAASK,GAAe,CACtBL,EAAK,SAAS,UAAU,OAAO,QAAQ,CACzC,CAEA,SAASM,GAAc,CACrBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qCACT,SAAU,UACd,CAAG,CACH,CAEA,SAAST,GAAgB,CACnBI,EAAaP,CAAQ,EACvBS,KAEAC,IACAC,IAEJ,CAEA,SAASE,GAAgB,CACvBR,EAAK,YAAY,SAAW,EAC9B,CAMA,SAASC,EAAoBQ,EAAO,CAClCD,GACF,CAEA,QAAQ,IAAIR,EAAK,QAAQ,QAAQ,EAQjC,MAAMU,EAASV,EAAK,QAAQ,SAC5B,UAAWW,KAASD,EAAQ,CAC1B,QAAQ,IAAIC,EAAM,QAAQ,EAC1B,KAAM,CAACC,EAAOC,CAAK,EAAIF,EAAM,SAC7B,QAAQ,IAAIC,EAAOC,CAAK,CAC1B"}